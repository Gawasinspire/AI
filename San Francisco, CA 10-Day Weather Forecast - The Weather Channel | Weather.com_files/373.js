(window.webpackJsonp=window.webpackJsonp||[]).push([[373],{1842:function(e,t,r){e.exports=r.p+"amplitude.ext.68ea06.js"},1927:function(e,t,r){"use strict";r.r(t),r.d(t,"getAdaptor",(function(){return y})),r.d(t,"getAssets",(function(){return L})),r.d(t,"name",(function(){return N}));var a=r(9),n=r.n(a),i=r(11),o=r.n(i),c=r(10),l=r.n(c),d=r(8),s=r.n(d),p=r(27),u=r.n(p),v=r(58),f=r(22),g=Object(f.createLogger)("amplitude adaptor"),m=v.env.METRICS_API_AMPLITUDE_KEY_CLIENT,_=v.env.METRICS_API_TEST_PREFIX_CLIENT,I=v.env.METRICS_API_AMPLITUDE_ENDPOINT,w=_?_+"_":"",C={apiEndpoint:void 0===I?"amplitude.weather.com":I};function y(e){var t={sendMetricsEvent:b,setUserProperties:M,resetId:k},r=e.userId||null,a=window.amplitude.getInstance();return a.init(m,r,C),g.debug({adaptor:t,amplitudeClient:a},"getAdaptor() called for Amplitude"),t}function k(){var e=T();e&&(e.setUserId(null),e.regenerateDeviceId())}function b(e){var t=e.type,r=e.props;switch(t){case"pageview":!function(e){var t=e.allowFullMetrics,r=e.anonymizedURL,a=e.partner,n=e.city,i=e.adminDistrictCode,o=e.countryCode,c=e.campaign,l=e.tpcc,d=e.articleTitle,s=e.fromString,p=e.locale,u=e.referrer,v=e.pageKey,f=e.siteMode,g=e.deviceClass,m=e.metricsUsed,_=e.gdprConsentOptIns,I=e.ccpaSaleOptIn,w=e.adsMetricsUnitAndZone;E("pageview",{url:r,siteMode:f,deviceClass:g,pageKey:t?v:"privacy_opt_out",pageLocale:p,referrer:t?u:"privacy_opt_out",wlocCity:t?n:"privacy_opt_out",wlocState:t?i:"privacy_opt_out",wlocCountry:t?o:"privacy_opt_out",articleHeadline:d,par:a||"",campaign:t?c:"privacy_opt_out",fromString:s,metricsUsed:m,priv:_,privProduct:I,adsMetricsUnitAndZone:w,tpcc:l})}(r);break;case"trackstring":!function(e){var t=e.pageCode,r=e.deviceClass,a=e.trackString;if(!e.allowFullMetrics)return;E("trackstring",{pageCode:t,deviceClass:r,trackString:a})}(r);break;case"daybreakbeacon":!function(e){g.info(e,"Called: doDaybreakBeacon with props");var t=e.allowFullMetrics,r=e.trackString;if(!t)return;E("daybreakbeacon",{trackString:r})}(r);break;case"videobeacon":!function(e){var t=e.allowFullMetrics,r=e.allowAgof,a=e.agofParams,n=e.locale,i=e.pageCode,o=e.deviceClass,c=e.url,l=e.partner,d=e.fromString,p=e.eventName,v=e.referrer,f=e.videoAsset,g=e.collectionId,m=e.adBlock,_=e.muted,I={title:null==f?void 0:f.title,locale:n};t&&(I=u()({},I,{referrer:v,url:c,assetName:null==f?void 0:f.assetName,id:null==f?void 0:f.id,providername:(null==f?void 0:f.providername)||"no-provider-data",partner:l,fromString:d,lastModifiedDate:null==f?void 0:f.lastmodifieddate,pageCode:i,deviceClass:o,collectionId:g,adBlock:m,muted:_}));var w="de-DE"===n&&s()(p).call(p,"videoattempt");r&&w&&(I=u()({},I,{st:a.st,cp:a.cp}));E(p,I)}(r);break;default:g.error({type:t,props:r},"Adaptor for Amplitude got nonstandard beacon")}}function A(e,t){200!==e&&g.error("Response:",e,t)}function E(e,t){if(w){var r;e=""+w+e;var a={};l()(r=o()(t)).call(r,(function(e){void 0!==t[e]&&(a[""+w+e]=t[e])})),t=a}S("logEvent",[e,t,A])}function M(e){S("setUserProperties",[e])}function S(e,t){var r=T(),a=function(){var a,i;(a=r[e]).call.apply(a,n()(i=[r]).call(i,t)),g.debug(t,e+"() called on Amplitude client instance")};r._isInitialized?a():r.onInit(a)}function P(e){var t=e.options,r=void 0===t?{}:t;e.options=u()({},r,C)}function T(){var e,t=(e=window.amplitude,P(e),e).getInstance();return P(t),t}var U=r(1842),D=r.n(U);function L(){return[D.a]}var N="amplitude"}}]);
//# sourceMappingURL=373.amplitude.ff1aa560f2491ffb8a36.js.map