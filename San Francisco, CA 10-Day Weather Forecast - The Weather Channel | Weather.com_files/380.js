(window.webpackJsonp=window.webpackJsonp||[]).push([[380],{1522:function(e,t,r){"use strict";r.r(t),r.d(t,"loadSource",(function(){return E})),r.d(t,"requestCriteoSlotsBid",(function(){return T}));var n=r(8),o=r.n(n),a=r(94),i=r.n(a),c=r(13),d=r.n(c),u=r(143),l=r.n(u),s=r(2),f=r.n(s),p=(r(48),r(6)),g=r(850),w=r.n(g),b=r(85),S=r(836),m=r(840),C=r(857),v=r(831),y=r(22),h=r(855),O=f.a.mark(E),B=Object(y.createLogger)("criteoSlot-saga");function E(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.i)(S.p);case 2:if(e=t.sent,w()(e)){t.next=6;break}return t.next=6,Object(p.c)(v.a,C.b.CRITEO_SLOT.script,{async:""});case 6:case"end":return t.stop()}}),O)}function T(e,t){var r=t.allowHeaderBidders,n=t.allowBurdaHeaderBidders,a=t.locale,c=t.adModules,u=void 0===c?[]:c,s=t.config,f=t.requestManager,p=t.mrTimeout;if(B.debug("Start of requestCriteoSlotBid",JSON.parse(l()(f))),B.debug("criteoSlot timeout =",p),"de-DE"===a?n:r){var g=d()(u).call(u,(function(e){return e.props.id})),w=s.placements,S=void 0===w?[]:w,C=s.lineItemRanges,v=i()(S).call(S,(function(e){return o()(g).call(g,e.slotid)}));if(!v.length)return void(f.atf.criteoSlot=!0);var y=p||m.a;window.Criteo=window.Criteo||{},window.Criteo.placements=v,window.Criteo.events=window.Criteo.events||[],window.Criteo.events.push((function(){window.Criteo.SetLineItemRanges(C),performance.mark("CRITEO-SLOT-BIDDER_MARK_BID-START"),window.Criteo.RequestBids({placements:v},(function(){window.Criteo.SetDFPKeyValueTargeting(),f.atf.criteoSlot=!0,Object(h.b)(B,"CRITEO-SLOT-BIDDER_MARK_BID-FINISH"),B.debug("criteoSlot callback",JSON.parse(l()(f))),f.atf.amzn&&f.atf.prebid&&f.atf.criteoSlot&&e(b.a)}),y)}))}else f.atf.criteoSlot=!0,f.atf.amzn&&f.atf.prebid&&f.atf.criteoSlot&&e(b.a)}},831:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return f}));r(31),r(64);var n=r(11),o=r.n(n),a=r(10),i=r.n(a),c=r(50),d=r.n(c),u=r(22),l=Object(u.createLogger)("script-loader"),s=function(e,t){return void 0===t&&(t={}),new d.a((function(r){var n,a=document.createElement("script");a.type="text/javascript",a.src=e,i()(n=o()(t)).call(n,(function(e){a[e]=t[e]})),a.onerror=function(){t.onerror&&(l.debug(t.onerror,"Calling onerror attribute for script "+e),t.onerror()),l.error("Error occurred loading script "+e),r()},a.onload=function(){var n;(n=a).readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(t.onload&&(l.debug(t.onload,"Calling onload attribute for script "+e),t.onload()),l.debug("Successfully loaded script "+e),r())},a.readyState&&(a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(t.onreadystatechange&&(l.debug(t.onreadystatechange,"Calling onreadystatechange attribute for script "+e),t.onreadystatechange()),r())}),l.debug("Loading script "+e),document.getElementsByTagName("head")[0].appendChild(a)}))},f=function(e,t){return new d.a((function(r){var n="jsonp_callback_"+Math.round(1e5*Math.random()),o=document.createElement("script"),a=e.replace(/=\?/,"="+n);window[n]=function(e){window[n]=null,l.debug("Successful callback for "+a),r(e)},o.async=t,o.src=a,o.onerror=function(){l.error("Error occurred loading script "+a),r()},l.debug("Loading script "+a),document.getElementsByTagName("head")[0].appendChild(o)}))}}}]);
//# sourceMappingURL=380.criteoSlot.65fcf649d00ef69d4719.js.map