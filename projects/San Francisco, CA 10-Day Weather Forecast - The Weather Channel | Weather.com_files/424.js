(window.webpackJsonp=window.webpackJsonp||[]).push([[424],{1335:function(e,t,n){"use strict";function s(){var e;return!!(null==(e=navigator)?void 0:e.cookieEnabled)}n.d(t,"a",(function(){return s}))},1445:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return u}));var s="required-technologies",r="functional-technologies",o="geographically-relevant-ads",i="interest-based-ads",a="sale-of-data",u=[r,o,i,a]},1909:function(e,t,n){"use strict";n.r(t),n.d(t,"DprSdk",(function(){return W}));n(35),n(61),n(21),n(104);var s=n(72),r=n.n(s),o=n(119),i=n.n(o),a=n(25),u=n.n(a),h=n(10),l=n.n(h),g=n(27),c=n.n(g),m=n(8),p=n.n(m),O=n(133),f=n.n(O),R=n(11),b=n.n(R),d=n(2),v=n.n(d),C=(n(48),n(15)),k=n(851),_=n(145),U=n(229),I=n(1335);function D(e){var t=e.regime,n=void 0===t?"":t,s=e.featureConfig,r=e.userPurposesChoicesMap,o=void 0===r?{}:r,i=e.regimeDefaultPurposesMap,a=void 0===i?{}:i,u=e.debugMode,h=void 0!==u&&u,g=e.isLocalStorageAvailable,c=void 0!==g&&g,m=e.areCookiesEnabled,O=void 0!==m&&m;try{if(h&&console.debug("featureConfig: "+(s&&s.name)+": ",s),!s)return!0;var R=s||{},b=R.blockRegimes,d=void 0===b?[]:b,v=R.enableRegimes,C=void 0===v?[]:v,k=R.purposes,_=void 0===k?[]:k,U=R.honorUserChoicesOverRegimeDefaults,I=R.honorOtherRegimesOptOut,D=void 0===I||I,w=R.honorOtherRegimesOptIn,y=void 0===w||w;if(d.length&&p()(d).call(d,n))return!1;if(C.length&&p()(C).call(C,n))return!0;if(!c||!O)return!1;if(!_&&_.length<1)return!0;"object"==typeof o&&null!==o||(o={});var x=null,F=null;l()(_).call(_,(function(e){var t="boolean"==typeof o[e];"boolean"==typeof a[e]&&t?F=!0:t&&(x=!0)}));var S=x||F;return f()(_).call(_,(function(e){var t=o[e],n="boolean"==typeof t,s=a[e],r="boolean"==typeof s;return n&&(r||D&&!1===t||y&&!0===t)?t:!(!n&&r&&(!S||S&&!U||U&&!F&&x&&!D&&!y))||s}))}catch(e){throw e}}var w=n(82),y=n(1445),x=[{name:"agof",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"burdaAdEngine",blockRegimes:[],enableRegimes:[w.h,w.i,w.b,w.c,w.d,w.e,w.f,w.g],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.e]},{name:"burdaHeaderBidders",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"colombia",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"comscore",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"custParamsPii",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.b,y.c]},{name:"experiment",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"findMe",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.b]},{name:"fullMetrics",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"geoIP",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.b]},{name:"googleAnalytics",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"googleSetCookieOption",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"gpt",blockRegimes:[],enableRegimes:[w.h,w.i,w.b,w.c,w.d,w.e,w.f,w.g],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.e]},{name:"gptPiiGDPR",blockRegimes:[w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.b,y.c]},{name:"gptPiiSaleUSA",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.f]},{name:"gptPrisma",blockRegimes:[],enableRegimes:[w.h,w.i,w.b,w.c,w.d,w.e,w.f,w.g],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.e]},{name:"headerBidders",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"ligatus",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"marketingPixel",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"medallia",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"moat",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"nielsen",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"ocw",blockRegimes:[w.c,w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.e]},{name:"omniture",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"outbrain",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"rogersAdUtil",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"socialLinksFooter",blockRegimes:[w.c,w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"socialSharing",blockRegimes:[w.c,w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"taboola",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.c,y.f]},{name:"twitterFeed",blockRegimes:[w.c,w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"ups",blockRegimes:[w.c,w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"upsPws",blockRegimes:[],enableRegimes:[w.h,w.i,w.b,w.c,w.d,w.e,w.f,w.g],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.e]},{name:"useHeaderBidderAllowList",blockRegimes:[w.h,w.i,w.b,w.c,w.d,w.e,w.f,w.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.a]},{name:"wfxTriggers",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[y.b,y.c,y.f]}],F=n(103),S=[{name:w.a,purposes:[]},{name:w.b,purposes:[]},{name:w.c,purposes:[{name:y.e,value:!0},{name:y.a,value:!1},{name:y.b,value:!1},{name:y.c,value:!1}]},{name:w.d,purposes:[{name:y.e,value:!0},{name:y.a,value:!1},{name:y.b,value:!1},{name:y.c,value:!1}]},{name:w.e,purposes:[{name:y.e,value:!0},{name:y.a,value:!1},{name:y.b,value:!1},{name:y.c,value:!1}]},{name:w.f,purposes:[{name:y.e,value:!0},{name:y.a,value:!1},{name:y.b,value:!1},{name:y.c,value:!1}]},{name:w.g,purposes:[{name:y.e,value:!0},{name:y.a,value:!1},{name:y.b,value:!1},{name:y.c,value:!1}]},{name:w.h,purposes:[{name:y.f,value:!0}]},{name:w.i,purposes:[{name:y.f,value:!0}]}],P=n(228),M=n(22),j=n(271),A=n.n(j),E=(n(142),n(422),n(427),n(13)),G=n.n(E),L=n(50),T=n.n(L),z=function(e){return T.a.all(G()(e).call(e,function(){var e=Object(C.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))},B=Object(M.createLogger)("DprSdk"),W=new(function(){function e(){var e;return(null==(e=window)?void 0:e.DprSdk)?window.DprSdk:(window.DprSdk=this,this._hookSetFeatureFlags=null,this._hookSetUserConsents=null,this._hookGetUserId=null,this._userConsentsKey="userConsents",this._userConsents=null,this._featureFlags={},this._userId=null,this._initialized=!1,this._regimeDefaultPurposesMap={},this._applicationInfo=null,this._userRegime=null,this._isLocalStorageAvailable=null,this._areCookiesDisable=null,this._areCookiesEnabled=null,this._userRegime=null,this)}var t=e.prototype;return t.init=function(){var e=Object(C.a)(v.a.mark((function e(t){var n,s,r,o,i,a,u,h,l,g,c,m,p,O;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(n=void 0===t?{}:t).setFeatureFlags,r=void 0===s?function(){}:s,o=n.setUserConsents,i=void 0===o?function(){}:o,a=n.getUserId,u=void 0===a?function(){return""}:a,h=n.logUserConsent,l=void 0===h?function(){}:h,g=n.getApplicationInfo,c=void 0===g?function(){}:g,m=n.getUserRegime,p=void 0===m?function(){}:m,!this._initialized){e.next=3;break}return e.abrupt("return");case 3:return this._hookSetFeatureFlags=r,this._hookSetUserConsents=i,this._hookGetUserId=u,this._hookLogUserConsent=l,this._hookGetApplicationInfo=c,this._hookGetUserRegime=p,this._isLocalStorageAvailable=Object(U.a)(),this._areCookiesEnabled=Object(I.a)(),this._hookGetUserRegime=p,e.next=14,this._getUserRegimeWithFallback();case 14:return this._userRegime=e.sent,this._initRegimeDefaultPurposesMap(),e.next=18,z([this._hookGetUserId(),this._hookGetApplicationInfo(),this._initUserConsents()]);case 18:return O=e.sent,this._userId=O[0],this._applicationInfo=O[1],this._setIabSignal(),e.next=24,z([this._initFeatureFlags(),this._initManager()]);case 24:this._initialized=!0;case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.setUserConsents=function(){var e=Object(C.a)(v.a.mark((function e(t,n){var s,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=null),e.prev=1,s=typeof t,"null"!==t){e.next=5;break}throw new Error("Can not set userConsents, newUserConsents is null");case 5:if("object"===s||"string"!==s){e.next=11;break}if("boolean"!=typeof n){e.next=10;break}(r={})[t]=n,t=r,e.next=11;break;case 10:throw new Error("Trying to set individual purpose: "+t+" and type is not boolean. Type: "+typeof n);case 11:if(o=b()(t),f()(o).call(o,(function(e){return p()(y.d).call(y.d,e)}))){e.next=15;break}throw new Error("Trying to set an invalid purposesId: ['"+o.join("', ")+"']");case 15:return this._userConsents=c()({},this._userConsents,t),e.t0=z,e.next=19,Object(_.h)(this._userConsentsKey,this._userConsents);case 19:return e.t1=e.sent,e.next=22,this._hookSetUserConsents(this._userConsents);case 22:if(e.t2=e.sent,e.t3=[e.t1,e.t2],(0,e.t0)(e.t3),!(b()(this._userConsents).length>0)){e.next=28;break}return e.next=28,this._hookLogUserConsent({userConsents:this._userConsents,userId:this._userId,appInfo:this._applicationInfo,geoIPCountryCode:this._geoIPCountryCode,regime:this._userRegime});case 28:e.next=33;break;case 30:e.prev=30,e.t4=e.catch(1),B.error(e.t4);case 33:case"end":return e.stop()}}),e,this,[[1,30]])})));return function(t,n){return e.apply(this,arguments)}}(),t.getUserConsent=function(e){var t;return null==(t=this._userConsents)?void 0:t[e]},t.getUserConsents=function(){return this._userConsents},t.getFeatureFlag=function(e){return this._featureFlags[e]},t.getFeatureFlags=function(){return this._featureFlags},t.getGdprConsentOptInsString=function(){var e,t=this,n=[y.e];return l()(e=[y.a,y.b,y.c]).call(e,(function(e){var s=t._regimeDefaultPurposesMap[e],r="boolean"==typeof s,o=t.getUserConsent(e),i="boolean"==typeof o;(i&&o||r&&s||!r&&!i)&&n.push(e)})),1===n.length&&n[0]===y.e?y.e:n.join(",")},t.getCcpaSaleOptInString=function(){var e,t="boolean"==typeof(null==(e=this._userConsents)?void 0:e[y.f]);return"usa"===this._userRegime||"usa-ccpa"===this._userRegime||t?this.getFeatureFlag("gptPiiSaleUSA")?"CCPAoptin":"CCPAoptout":null},t._setIabSignal=function(){var e=A.a.get("usprivacy"),t="1---";if("usa"===this._userRegime||"usa-ccpa"===this._userRegime){t="1Y"+(!1===this.getUserConsent(y.f)?"Y":"N")+"N"}if(t!==e&&this._areCookiesEnabled){var n,s=p()(n=window.location.host).call(n,"wunderground")?".wunderground.com":".weather.com";A.a.set("usprivacy",t,{path:"/",domain:s,expires:31536e3})}},t._initUserConsents=function(){var e=Object(C.a)(v.a.mark((function e(){var t,n,s,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.c)(this._userConsentsKey);case 3:return t=e.sent,e.next=6,Object(_.c)("dpr/consents");case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:if(n=e.t0,s=n.consents,r=void 0===s?null:s,"object"!=typeof t||null===t){e.next=17;break}return this._userConsents=t,e.next=15,this._hookSetUserConsents(this._userConsents);case 15:e.next=21;break;case 17:return o={},r&&(o=u()(r).call(r,(function(e,t){return t.setByUser&&(e[t.purposeId]=t.consent),e}),{})),e.next=21,this.setUserConsents(o);case 21:n&&(localStorage.removeItem("dpr/consents"),localStorage.removeItem("wu.dpr/consents")),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),B.error(e.t1);case 27:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}(),t._getUserRegimeWithFallback=function(){var e=Object(C.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==(t=window.location)||null==(n=t.host)?void 0:p()(n).call(n,"wunderground"))){e.next=3;break}return e.abrupt("return",this._fallbackUserRegime);case 3:if(!this._hookGetUserRegime){e.next=5;break}return e.abrupt("return",this._hookGetUserRegime());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t._initFeatureFlags=function(){var e=Object(C.a)(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._featureFlags=u()(x).call(x,(function(e,n){return e[n.name]=D({regime:t._userRegime,featureConfig:n,userPurposesChoicesMap:t._userConsents,regimeDefaultPurposesMap:t._regimeDefaultPurposesMap,isLocalStorageAvailable:t._isLocalStorageAvailable,areCookiesEnabled:t._areCookiesEnabled,debugMode:t._debugModeEnabled||!1}),e}),{}),!this._featureFlags||this._debugModeEnabled){e.next=4;break}return e.next=4,this._hookSetFeatureFlags(this._featureFlags);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t._initRegimeDefaultPurposesMap=function(){var e=this,t=(S&&i()(S).call(S,(function(t){return t.name===e._userRegime}))||{}).purposes,n=void 0===t?[]:t;this._regimeDefaultPurposesMap=u()(n).call(n,(function(e,t){return e[t.name]=t.value,e}),{})},t._initManager=function(){var e=Object(C.a)(v.a.mark((function e(){var t,s,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p()(P.a).call(P.a,this._userRegime)){e.next=8;break}return e.next=3,n.e(368).then(n.bind(null,1926));case 3:s=e.sent,o=s.initializeTrustArcManager,i=s.showConsentManager,this.showConsentManager=i,o(this._geoIPCountryCode,this._userRegime,r()(t=this.setUserConsents).call(t,this));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),Object(k.a)(e,[{key:"_geoIPCountryCode",get:function(){return Object(F.b)("TWC-GeoIP-Country")||""}},{key:"_fallbackUserRegime",get:function(){return Object(F.b)("TWC-Privacy")}},{key:"_debugMode",set:function(e){"1b544edd6b"===atob(e)&&(this._debugModeEnabled=!0,console.debug("\n\n\n\n --- DprSdk feature configs debug mode enabled: --- \n\n\n\n"),this._initFeatureFlags(),console.debug("\n regime: ",this._userRegime,"\n regime default purposes values mapping:",this._regimeDefaultPurposesMap,"\n userConsents: ",this._userConsents,"\n featureFlags: ",this._featureFlags,"\n\n\n\n --- DprSdk debug mode ended ---\n\n\n\n"),delete this._debugModeEnabled)}}]),e}())},851:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(66),r=n.n(s);function o(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),r()(e,s.key,s)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}}]);
//# sourceMappingURL=424.424.967805116d5bb908c687.js.map